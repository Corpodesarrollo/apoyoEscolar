#VERSION	FECHA		AUTOR			DESCRIPCION
#    1.0	02/12/2019	JORGE CAMACHO	Se modificó la propiedad planeacion.obtener2 para agregar los campos PLACOTROCUAL, PLACPONDERADO

poa.getNombreColegio=SELECT INSNOMBRE FROM INSTITUCION WHERE INSCODIGO=?
planeacion.listaLocalidad=SELECT G_CONCODIGO, '('||G_CONCODIGO||')'||G_CONNOMBRE FROM G_CONSTANTE WHERE G_CONTIPO=7 ORDER BY G_CONORDEN
#planeacion.listaColegio=SELECT INSCODIGO, INSNOMBRE,POACODIGO, POAESTADO, TO_CHAR(POAFECHAESTADO,'dd/mm/yyyy'), REPLACE(REPLACE(REPLACE(REPLACE(POAOBSERVACION,CHR(10),'_'),CHR(13),'_'),CHR(39),'_'),CHR(34),'_') FROM INSTITUCION,POA b WHERE INSCODLOCAL=? AND INSCODIGO=b.POACODINST AND b.POAVIGENCIA=? AND (-99=? OR b.POAESTADO=?) AND b.POACODIGO IN(SELECT MAX(a.POACODIGO) FROM POA a WHERE a.POACODINST=b.POACODINST AND a.POAVIGENCIA=b.POAVIGENCIA) ORDER BY 2
planeacion.listaColegio=SELECT INSCODIGO, INSNOMBRE,POACODIGO, POAESTADO FROM INSTITUCION,POA b WHERE INSCODLOCAL=? AND INSCODIGO=b.POACODINST AND b.POAVIGENCIA=? AND b.POAESTADO=? AND b.POACODIGO IN(SELECT MAX(a.POACODIGO) FROM POA a WHERE a.POACODINST=b.POACODINST AND a.POAVIGENCIA=b.POAVIGENCIA) ORDER BY 2
planeacion.listaAreaGestion=SELECT ARGECODIGO, ARGENOMBRE,ARGEPONDERADOR FROM POA_AREAGESTION order by ARGEORDEN
planeacion.listaLineaAccion=SELECT LIACCODIGO, LIACNOMBRE FROM POA_LINEAACCION where LIACCODAREAGESTION=? order by LIACORDEN
#planeacion.listaVigencia=SELECT to_number(G_PARVIGENCIA)-1,to_number(G_PARVIGENCIA),to_number(G_PARVIGENCIA)+1 FROM G_PARAMETRO
planeacion.listaVigencia=SELECT to_number(G_PARVIGPOA)-1,to_number(G_PARVIGPOA),to_number(G_PARVIGPOA)+1 FROM G_PARAMETRO
planeacion.listaTipoMeta=SELECT TIMECODIGO, TIMENOMBRE FROM POA_TIPOMETA order by TIMEORDEN
planeacion.listaUnidadMedida=SELECT UNMECODIGO, UNMENOMBRE,UNMECUAL FROM POA_UNIMEDIDA order by UNMEORDEN


planeacion.lista=SELECT PLACVIGENCIA, PLACCODINST, PLACCODIGO, substr(PLACOBJETIVO,0,100), substr(PLACNOMBRE,0,100), ARGENOMBRE, LIACNOMBRE,SEGPERIODO1, SEGPERIODO2, SEGPERIODO3, SEGPERIODO4 FROM POA_PLANACTIVIDAD left outer join POA_AREAGESTION on (ARGECODIGO=PLACCODARGESTION) left outer join POA_LINEAACCION on (LIACCODIGO=PLACCODLIACCION) where PLACCODINST=? and PLACVIGENCIA=? order by PLACCODIGO
#planeacion.lista2=SELECT PLACVIGENCIA, PLACCODINST, PLACCODIGO, substr(PLACOBJETIVO,0,100), substr(PLACNOMBRE,0,100), ARGENOMBRE, LIACNOMBRE,SEGPERIODO1, SEGPERIODO2, SEGPERIODO3, SEGPERIODO4 , PLACCODOBJETIVO, OBJNOMBRE  FROM POA_PLANACTIVIDAD left outer join POA_AREAGESTION on (ARGECODIGO=PLACCODARGESTION) left outer join POA_LINEAACCION on (LIACCODIGO=PLACCODLIACCION AND LIACCODAREAGESTION=PLACCODARGESTION)  left outer join  POA_OBJETIVO ON  OBJCODIGO = PLACCODOBJETIVO   where PLACCODINST=? and PLACVIGENCIA=? order by PLACCODIGO, PLACCODOBJETIVO, OBJNOMBRE 
planeacion.lista2=SELECT PLACVIGENCIA, PLACCODINST, PLACCODIGO, substr(PLACOBJETIVO,0,100), substr(PLACNOMBRE,0,100), ARGENOMBRE, LIACNOMBRE,SEGPERIODO1, SEGPERIODO2, SEGPERIODO3, SEGPERIODO4 , PLACCODOBJETIVO, OBJNOMBRE, ROUND (CASE WHEN E1.CALIFICACION IS NULL and E2.CALIFICACION IS NULL and E3.CALIFICACION IS NULL and E4.CALIFICACION IS NULL THEN NULL ELSE (((CASE WHEN E1.CALIFICACION IS NULL THEN 0 ELSE E1.CALIFICACION END+ CASE WHEN E2.CALIFICACION IS NULL THEN 0 ELSE E2.CALIFICACION END+ CASE WHEN E3.CALIFICACION IS NULL THEN 0 ELSE E3.CALIFICACION END+ CASE WHEN E4.CALIFICACION IS NULL THEN 0 ELSE E4.CALIFICACION END) * PLACPONDERADO)/ ((CASE WHEN(CASE WHEN E1.CALIFICACION IS NULL THEN 0 ELSE 1 END+ CASE WHEN E2.CALIFICACION IS NULL THEN 0 ELSE 1 END+ CASE WHEN E3.CALIFICACION IS NULL THEN 0 ELSE 1 END+ CASE WHEN E4.CALIFICACION IS NULL THEN 0 ELSE 1 END)=0 THEN 1 ELSE (CASE WHEN E1.CALIFICACION IS NULL THEN 0 ELSE 1 END+ CASE WHEN E2.CALIFICACION IS NULL THEN 0 ELSE 1 END+ CASE WHEN E3.CALIFICACION IS NULL THEN 0 ELSE 1 END+ CASE WHEN E4.CALIFICACION IS NULL THEN 0 ELSE 1 END) END) *100))END,2) AS CALIFICACION_EVA FROM POA_PLANACTIVIDAD left outer join POA_AREAGESTION on (ARGECODIGO=PLACCODARGESTION) left outer join POA_LINEAACCION on (LIACCODIGO=PLACCODLIACCION AND LIACCODAREAGESTION=PLACCODARGESTION) left outer join POA_OBJETIVO ON OBJCODIGO = PLACCODOBJETIVO LEFT JOIN EGD_EVA_TRIMESTRAL E1 ON (CALIF_EVALSEG1=E1.ID) LEFT JOIN EGD_EVA_TRIMESTRAL E2 ON (CALIF_EVALSEG2=E2.ID) LEFT JOIN EGD_EVA_TRIMESTRAL E3 ON (CALIF_EVALSEG3=E3.ID) LEFT JOIN EGD_EVA_TRIMESTRAL E4 ON (CALIF_EVALSEG4=E4.ID) where PLACCODINST=? and PLACVIGENCIA=? order by PLACCODIGO, PLACCODOBJETIVO, OBJNOMBRE 
planeacion.obtener=SELECT PLACVIGENCIA, PLACCODINST, PLACCODIGO, PLACORDEN, PLACOBJETIVO, PLACNOMBRE, PLACCODARGESTION, PLACCODLIACCION,PLACCODTIMETA,PLACCANTIDAD, PLACCODUNMEDIDA,TO_CHAR(PLACFECHATERMIN,'dd/mm/yyyy'), PLACPERIODO1, PLACPERIODO2, PLACPERIODO3, PLACPERIODO4, TO_CHAR(SEGFECHACUMPLIMT,'dd/mm/yyyy'), SEGPERIODO1, SEGPERIODO2, SEGPERIODO3, SEGPERIODO4, SEGPORCEJECP1, SEGPORCEJECP2, SEGPORCEJECP3, SEGPORCEJECP4, SEGFTEVERIFP1, SEGANALISISP1, SEGFTEVERIFP2, SEGANALISISP2, SEGFTEVERIFP3, SEGANALISISP3, SEGFTEVERIFP4, SEGANALISISP4,TIMEPIDEPORCENTAJE FROM POA_PLANACTIVIDAD,POA_TIPOMETA WHERE PLACVIGENCIA=? AND PLACCODINST=? AND PLACCODIGO=? AND TIMECODIGO=PLACCODTIMETA
#planeacion.obtener2=SELECT PLACVIGENCIA, PLACCODINST, PLACCODIGO, PLACORDEN, PLACOBJETIVO, PLACNOMBRE, PLACCODARGESTION, PLACCODLIACCION, PLACCODTIMETA, PLACCANTIDAD, PLACCODUNMEDIDA, TO_CHAR(SEGFECHACUMPLIMT,'dd/mm/yyyy'), PLACPERIODO1, PLACPERIODO2, PLACPERIODO3, PLACPERIODO4, TO_CHAR(SEGFECHAREALCUMPLIM,'dd/mm/yyyy'), SEGPERIODO1, SEGPERIODO2, SEGPERIODO3, SEGPERIODO4, SEGPORCEJECP1, SEGPORCEJECP2, SEGPORCEJECP3, SEGPORCEJECP4, SEGFTEVERIFP1, SEGANALISISP1, SEGFTEVERIFP2, SEGANALISISP2, SEGFTEVERIFP3, SEGANALISISP3, SEGFTEVERIFP4, SEGANALISISP4, TIMEPIDEPORCENTAJE, PLACCODOBJETIVO, OBJNOMBRE, TIPOACTIVIDAD, ACCIONMEJORAMIENTO, ACCIONMEJORAMIENTOOTRAS, TIPOGASTO, RUBROGASTO, SUBNIVELGASTO, FUENTEFINANCIACION, FUENTEFINANCIACIONOTROS, MONTOANUAL, PPTOPARTICIPATIVO, TO_CHAR(SEGFECHACUMPLIMT,'dd/mm/yyyy'), TO_CHAR(SEGFECHAREALCUMPLIM,'dd/mm/yyyy'), PRESUPUESTOEJECUTADO, placnombrerespon, SEGPORCDEMANDAP1, SEGPORCDEMANDAP2, SEGPORCDEMANDAP3, SEGPORCDEMANDAP4, PLACOTROCUAL, PLACPONDERADO, CALIF_EVALSEG1, CALIF_EVALSEG2, CALIF_EVALSEG3, CALIF_EVALSEG4, OBS_EVALSEG1, OBS_EVALSEG2, OBS_EVALSEG3, OBS_EVALSEG4 FROM POA_PLANACTIVIDAD left outer join POA_TIPOMETA on TIMECODIGO=PLACCODTIMETA  left outer join  POA_OBJETIVO ON  OBJCODIGO = PLACCODOBJETIVO  WHERE PLACVIGENCIA=? AND PLACCODINST=? AND PLACCODIGO=? 
planeacion.obtener2=SELECT PLACVIGENCIA, PLACCODINST, PLACCODIGO, PLACORDEN, PLACOBJETIVO, PLACNOMBRE, PLACCODARGESTION, PLACCODLIACCION, PLACCODTIMETA, PLACCANTIDAD, PLACCODUNMEDIDA, TO_CHAR(SEGFECHACUMPLIMT,'dd/mm/yyyy'), PLACPERIODO1, PLACPERIODO2, PLACPERIODO3, PLACPERIODO4, TO_CHAR(SEGFECHAREALCUMPLIM,'dd/mm/yyyy'), SEGPERIODO1, SEGPERIODO2, SEGPERIODO3, SEGPERIODO4, SEGPORCEJECP1, SEGPORCEJECP2, SEGPORCEJECP3, SEGPORCEJECP4, SEGFTEVERIFP1, SEGANALISISP1, SEGFTEVERIFP2, SEGANALISISP2, SEGFTEVERIFP3, SEGANALISISP3, SEGFTEVERIFP4, SEGANALISISP4, TIMEPIDEPORCENTAJE, PLACCODOBJETIVO, OBJNOMBRE, TIPOACTIVIDAD, ACCIONMEJORAMIENTO, ACCIONMEJORAMIENTOOTRAS, TIPOGASTO, RUBROGASTO, SUBNIVELGASTO, FUENTEFINANCIACION, FUENTEFINANCIACIONOTROS, MONTOANUAL, PPTOPARTICIPATIVO, TO_CHAR(SEGFECHACUMPLIMT,'dd/mm/yyyy'), TO_CHAR(SEGFECHAREALCUMPLIM,'dd/mm/yyyy'), PRESUPUESTOEJECUTADO, placnombrerespon, SEGPORCDEMANDAP1, SEGPORCDEMANDAP2, SEGPORCDEMANDAP3, SEGPORCDEMANDAP4, PLACOTROCUAL, PLACPONDERADO, EG1.CALIFICACION CALIF1, EG2.CALIFICACION CALIF2, EG3.CALIFICACION CALIF3, EG4.CALIFICACION CALIF4, OBS_EVALSEG1, OBS_EVALSEG2, OBS_EVALSEG3, OBS_EVALSEG4, EG1.EVALUACION EVALTEXT1, EG2.EVALUACION EVALTEXT2, EG3.EVALUACION EVALTEXT3, EG4.EVALUACION EVALTEXT4 FROM POA_PLANACTIVIDAD left outer join POA_TIPOMETA on TIMECODIGO=PLACCODTIMETA  left outer join  POA_OBJETIVO ON  OBJCODIGO = PLACCODOBJETIVO LEFT JOIN EGD_EVA_TRIMESTRAL EG1 ON CALIF_EVALSEG1 = EG1.ID LEFT JOIN EGD_EVA_TRIMESTRAL EG2 ON CALIF_EVALSEG2 = EG2.ID LEFT JOIN EGD_EVA_TRIMESTRAL EG3 ON CALIF_EVALSEG3 = EG3.ID LEFT JOIN EGD_EVA_TRIMESTRAL EG4 ON CALIF_EVALSEG4 = EG4.ID WHERE PLACVIGENCIA=? AND PLACCODINST=? AND PLACCODIGO=? 
planeacion.getlistaObjetivos = SELECT  OBJCODIGO, OBJNOMBRE FROM POA_OBJETIVO where OBJESTADO = 1 order by ORDEN

planeacion.label=SELECT UPPER(column_name),REPLACE(REPLACE(comments,CHR(10),''),CHR(13),'') FROM USER_COL_COMMENTS WHERE table_name='POA_PLANACTIVIDAD'

planeacion.validarEstado=SELECT POAESTADO FROM POA WHERE POAVIGENCIA=? AND POACODINST=? ORDER BY POACODIGO DESC

poa.getEstado=SELECT POAESTADO FROM POA WHERE POAVIGENCIA=? AND POACODINST=? ORDER BY POACODIGO DESC

planeacion.listar.archivo.trimestre=SELECT ID_EVIDENCIA_SEG, NOMBRE_ARCHIVO, USUARIO,FECHA_CREACION FROM POAL_EVIDENCIA_ACTIVIDAD WHERE PLACVIGENCIA = ? AND PLACCODNIVEL = 3 AND PLACCODIGO = ? AND PLACDEPENDENCIA = ? AND TRIMESTRE = ? 
planeacion.comparar.fechas=SELECT PRF_FIN_SEG_PER1, (CASE WHEN SYSDATE > PRF_FIN_SEG_PER1 THEN 1 ELSE 0 END) as uno, PRF_FIN_SEG_PER2, (CASE WHEN SYSDATE > PRF_FIN_SEG_PER2 THEN 1 ELSE 0 END) as dos, PRF_FIN_SEG_PER3, (CASE WHEN SYSDATE > PRF_FIN_SEG_PER3 THEN 1 ELSE 0 END) as tres, PRF_FIN_SEG_PER4, (CASE WHEN SYSDATE > PRF_FIN_SEG_PER4 THEN 1 ELSE 0 END) as cuatro FROM POA_PRGFECHAS WHERE PRFVIGENCIA=?  

