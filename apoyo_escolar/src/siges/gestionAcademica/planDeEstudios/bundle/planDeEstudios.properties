Version Fecha		Autor		Descripcion
1.0	25/11/2020	John Heredia	se agrego la propiedad area.validarActualizarOrden, permite realizar consulta de validacion si el campo Orden para el Area base indicada,


common.listaMetodologia=SELECT METCODIGO,G_CONNOMBRE FROM METODOLOGIA,G_CONSTANTE WHERE METCODINST=? AND G_CONTIPO=3 AND G_CONCODIGO=METCODIGO ORDER BY G_CONORDEN
common.listaAreaBase=SELECT G_ARECODIGO, G_ARENOMBRE, G_ARETIPO FROM G_AREA ORDER BY G_ARENOMBRE
common.obtenerAreaBase=SELECT G_ARECODIGO, G_ARENOMBRE, G_ARETIPO FROM G_AREA where G_ARECODIGO=?
common.listaGradoTotal=SELECT G_GRACODIGO, G_GRANOMBRE FROM G_GRADO ORDER BY G_GRAORDEN
#lista de grados del colegio para el caso de nuevo
common.listaGradoBase=SELECT GRACODIGO,GRANOMBRE FROM GRADO WHERE GRACODINST=? AND GRACODMETOD=? ORDER BY GRAORDEN
#lista de grados del colegio para el caso de editar
common.listaGradoAreaBase=SELECT GRACODIGO,GRANOMBRE,CASE NVL(GRAARECODGRADO,-1) WHEN -1 THEN '' ELSE 'checked' END FROM GRADO left outer join GRADO_AREA ON (GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODGRADO=GRACODIGO AND GRAARECODAREA=?) WHERE GRACODINST=? AND GRACODMETOD=? ORDER BY GRAORDEN
#lista de grados del colegio par el caso de editar asign
common.listaGradoAsignaturaBase=SELECT GRAARECODGRADO,GRANOMBRE,CASE NVL(GRAASIIH,-1) WHEN -1 THEN '' ELSE 'checked' END,GRAASIIH, CASE NVL(GRAASIESTADO,'I') WHEN 'I' THEN '' ELSE 'checked' END FROM GRADO_AREA,GRADO,GRADO_ASIGNATURA WHERE GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODAREA=? AND GRACODINST=GRAARECODINST AND GRACODMETOD=GRAARECODMETOD AND GRACODIGO=GRAARECODGRADO AND GRAASICODINST(+)=GRAARECODINST AND GRAASICODMETOD(+)=GRAARECODMETOD AND GRAASIVIGENCIA(+)=GRAAREVIGENCIA AND GRAASICODGRADO(+)=GRAARECODGRADO AND GRAASICODASIGN(+)=? ORDER BY GRAORDEN
#Lista de grados del colegio-area para el caso de nuevo asig
common.listaGradoArea=SELECT GRAARECODGRADO,GRANOMBRE FROM GRADO_AREA,GRADO WHERE GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODAREA=? AND GRACODINST=GRAARECODINST AND GRACODMETOD=GRAARECODMETOD AND GRACODIGO=GRAARECODGRADO ORDER BY GRAORDEN

common.listaArea=SELECT ARECODIGO,ARENOMBRE FROM AREA WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? ORDER BY AREORDEN
common.listaAsignaturaBase=SELECT G_ASICODIGO, G_ASINOMBRE FROM G_ASIGNATURA WHERE G_ASICODAREA=? ORDER BY G_ASINOMBRE
common.obtenerAsignaturaBase=SELECT G_ASICODIGO, G_ASINOMBRE FROM G_ASIGNATURA WHERE G_ASICODIGO=?
#common.codigoJerarquia=SELECT NVL(MAX(G_JERCODIGO),0)+1 FROM G_JERARQUIA
common.codigoJerarquia= select codigo_jerarquia.nextVal from dual
common.datosInstitucion=SELECT INSCODDEPTO, INSCODMUN, INSCODLOCAL FROM INSTITUCION WHERE INSCODIGO=?

planDeEstudios.lista=SELECT PLACODINST,PLACODMETOD,PLAVIGENCIA,G_CONNOMBRE, SUBSTR(PLACRITERIO,0,200) FROM PLAN_ESTUDIOS,G_CONSTANTE WHERE PLACODINST=? AND PLAVIGENCIA=? AND G_CONTIPO=3 AND G_CONCODIGO=PLACODMETOD ORDER BY G_CONORDEN
planDeEstudios.obtener=SELECT PLACODINST, PLACODMETOD, PLAVIGENCIA, PLACRITERIO, PLAPROCEDIMIENTO, PLAPLANESESPECIALES FROM PLAN_ESTUDIOS WHERE PLACODINST=? AND PLACODMETOD=? AND PLAVIGENCIA=?
planDeEstudios.insertar=INSERT INTO PLAN_ESTUDIOS (PLACODINST, PLACODMETOD, PLAVIGENCIA, PLACRITERIO,PLAPROCEDIMIENTO, PLAPLANESESPECIALES) VALUES (?,?,?,?,?,?)
planDeEstudios.actualizar=UPDATE PLAN_ESTUDIOS SET PLACRITERIO=?,PLAPROCEDIMIENTO=?,PLAPLANESESPECIALES=? WHERE PLACODINST=? AND PLACODMETOD=? AND PLAVIGENCIA=?
planDeEstudios.eliminar=DELETE FROM PLAN_ESTUDIOS WHERE PLACODINST=? AND PLACODMETOD=? AND PLAVIGENCIA=?
planDeEstudios.validarIngreso=SELECT PLACODINST FROM PLAN_ESTUDIOS WHERE PLACODINST=? AND PLACODMETOD=? AND PLAVIGENCIA=?
#planDeEstudios.validarActualizar=
#planDeEstudios.validarEliminar=

area.lista=SELECT ARECODINST, ARECODMETOD, AREVIGENCIA,ARECODIGO, ARENOMBRE, AREABREV FROM AREA WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? ORDER BY AREORDEN
area.obtener=SELECT ARECODINST, ARECODMETOD, AREVIGENCIA,ARECODIGO, ARENOMBRE, AREABREV,AREORDEN FROM AREA WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? AND ARECODIGO=?
area.insertar=INSERT INTO AREA (ARECODINST, ARECODMETOD, AREVIGENCIA,ARECODIGO,ARENOMBRE, AREABREV,AREORDEN) VALUES (?,? ,? ,? ,? ,? ,? )
area.obtenerInstitucion=SELECT INSCODDEPTO, INSCODMUN, INSCODLOCAL FROM INSTITUCION WHERE INSCODIGO=?
#area.insertarJerarquia=INSERT INTO G_JERARQUIA (G_JERTIPO, G_JERNIVEL, G_JERCODIGO,G_JERDEPTO, G_JERMUNIC, G_JERLOCAL,G_JERINST, G_JERMETOD, G_JERVIGENCIA,G_JERGRADO, G_JERAREAASIG) VALUES (?,?,?,?,?,?,?,?,?,?,?)
area.actualizar=UPDATE AREA SET ARENOMBRE=?,AREABREV=?,AREORDEN=? WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? AND ARECODIGO=?
area.eliminar=delete from AREA WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? AND ARECODIGO=?
area.validarIngreso=SELECT ARECODINST FROM AREA WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? AND ARECODIGO=?
#area.validarActualizar=
area.validarActualizarOrden=SELECT AREORDEN FROM AREA WHERE ARECODINST=? AND ARECODMETOD=? AND AREVIGENCIA=? AND AREORDEN=?

area.validarEliminar.1=SELECT ASICODIGO FROM ASIGNATURA WHERE ASICODINST=? AND ASICODMETOD=? AND ASIVIGENCIA=? AND ASICODAREA=?
area.validarEliminar.2=SELECT DESCODJERAR FROM DESCRIPTOR_VALORATIVO WHERE DESCODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?) AND DESVIGENCIA=?
area.validarEliminar.3=SELECT EVAARECODJERAR FROM EVALUACION_AREA WHERE EVAARECODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?) AND EVAAREVIGENCIA=?
area.validarEliminar.4=SELECT EVADESCODJERAR FROM EVALUACION_DESCRIPTOR WHERE EVADESCODJERAR IN (SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?) AND EVADESVIGENCIA=?

area.listaGradoArea.ini=SELECT GRACODIGO FROM GRADO WHERE GRACODINST=? AND GRACODMETOD=? AND GRACODIGO IN(
area.listaGradoArea.fin=) AND GRACODIGO NOT IN(SELECT GRAARECODGRADO FROM GRADO_AREA WHERE GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODAREA=?)
area.insertarGradoArea=INSERT INTO GRADO_AREA (GRAARECODINST, GRAARECODMETOD,GRAAREVIGENCIA,GRAARECODAREA,GRAARECODGRADO) VALUES (?,?,?,?,?)
area.insertarGradoAreaJerarquia=INSERT INTO G_JERARQUIA (G_JERTIPO, G_JERNIVEL, G_JERCODIGO,G_JERDEPTO, G_JERMUNIC, G_JERLOCAL,G_JERINST, G_JERMETOD, G_JERVIGENCIA, G_JERGRADO, G_JERAREAASIG) VALUES (?,?,?,?,?,?,?,?,?,?,?)
#area.actualizarGradoArea=
area.eliminarGradoArea=DELETE FROM GRADO_AREA WHERE GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODAREA=? AND GRAARECODGRADO not in
area.eliminarGradoAreaJerarquia=DELETE FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO not in
area.eliminarTodoGradoArea=DELETE FROM GRADO_AREA WHERE GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODAREA=?
area.eliminarTodoGradoAreaJerarquia=DELETE FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?

area.validarEliminarGradoArea.1.1=SELECT DESCODJERAR FROM DESCRIPTOR_VALORATIVO WHERE DESCODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO NOT IN
area.validarEliminarGradoArea.1.2=) AND DESVIGENCIA=?
area.validarEliminarGradoArea.2.1=SELECT EVAARECODJERAR FROM EVALUACION_AREA WHERE EVAARECODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO NOT IN
area.validarEliminarGradoArea.2.2=) AND EVAAREVIGENCIA=?
area.validarEliminarGradoArea.3.1=SELECT EVADESCODJERAR FROM EVALUACION_DESCRIPTOR WHERE EVADESCODJERAR IN (SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO NOT IN
area.validarEliminarGradoArea.3.2=) AND EVADESVIGENCIA=?

asignatura.lista=SELECT ASICODINST, ASICODMETOD, ASIVIGENCIA,ASICODAREA,ASICODIGO, ASINOMBRE,ASIABREV, ASIESTADO FROM ASIGNATURA WHERE ASICODINST=? AND ASICODMETOD=? AND ASIVIGENCIA=? AND ASICODAREA=? ORDER BY ASIORDEN
asignatura.obtener=SELECT ASICODINST, ASICODMETOD, ASIVIGENCIA,ASICODAREA,ASICODIGO, ASINOMBRE, ASIABREV, ASIORDEN, ASIESTADO,PLAN1,PLAN2,PLAN3,PLANCICLO1,PLANCICLO2,PLANCICLO3,tipoponderacion FROM ASIGNATURA WHERE ASICODINST=? AND ASICODMETOD=? AND ASIVIGENCIA=? AND ASICODIGO=?
asignatura.insertar=INSERT INTO ASIGNATURA (ASICODINST, ASICODMETOD, ASIVIGENCIA, ASICODAREA, ASICODIGO, ASINOMBRE, ASIABREV,ASIORDEN,PLAN1,PLAN2,PLAN3,PLANCICLO1,PLANCICLO2,PLANCICLO3,tipoponderacion) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
#asignatura.insertarJerarquia=INSERT INTO G_JERARQUIA (G_JERTIPO, G_JERNIVEL, G_JERCODIGO,G_JERDEPTO, G_JERMUNIC, G_JERLOCAL,G_JERINST, G_JERMETOD, G_JERVIGENCIA,G_JERGRADO, G_JERAREAASIG) VALUES (?,?,?,?,?,?,?,?,?,?,?)
asignatura.actualizar=UPDATE ASIGNATURA SET ASINOMBRE=?,ASIABREV=?,ASIORDEN=?,PLAN1=?,PLAN2=?,PLAN3=?,PLANCICLO1=?,PLANCICLO2=?,PLANCICLO3=?,tipoponderacion=? WHERE ASICODINST=? AND ASICODMETOD=? AND ASIVIGENCIA=? AND ASICODIGO=?
asignatura.actualizarMasivoPonderaciones=UPDATE ASIGNATURA SET tipoponderacion=?,PLAN1=?,PLAN2=?,PLAN3=?,PLANCICLO1=?,PLANCICLO2=?,PLANCICLO3=? WHERE ASICODINST=? AND ASIVIGENCIA=?
asignatura.eliminar=DELETE FROM ASIGNATURA WHERE ASICODINST=? AND ASICODMETOD=? AND ASIVIGENCIA=? AND ASICODIGO=?
asignatura.validarIngreso=SELECT ASICODINST FROM ASIGNATURA WHERE ASICODINST=? AND ASICODMETOD=? AND ASIVIGENCIA=? AND ASICODIGO=?
#asignatura.validarActualizar=
asignatura.validarEliminar.1=SELECT LOGCODIGO FROM LOGRO WHERE LOGCODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?) AND LOGVIGENCIA=?
asignatura.validarEliminar.2=SELECT EVAASICODESTUD FROM EVALUACION_ASIGNATURA WHERE EVAASICODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?) AND EVAASIVIGENCIA=?
asignatura.validarEliminar.3=SELECT EVALOGCODESTU FROM EVALUACION_LOGRO WHERE EVALOGCODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?) AND EVALOGVIGENCIA=?

asignatura.insertarGradoAsignatura=INSERT INTO GRADO_ASIGNATURA (GRAASICODINST, GRAASICODMETOD, GRAASIVIGENCIA,GRAASICODGRADO, GRAASICODASIGN) VALUES (?,? ,? ,? ,?)
asignatura.insertarGradoAsignaturaJerarquia=INSERT INTO G_JERARQUIA (G_JERTIPO, G_JERNIVEL, G_JERCODIGO,G_JERDEPTO, G_JERMUNIC, G_JERLOCAL,G_JERINST, G_JERMETOD, G_JERVIGENCIA, G_JERGRADO, G_JERAREAASIG) VALUES (?,?,? ,?,?,?,?,?,?,?,?)
asignatura.actualizarGradoAsignatura=UPDATE GRADO_ASIGNATURA SET GRAASIIH=?,GRAASIESTADO=? WHERE GRAASICODINST=? AND GRAASICODMETOD=? AND GRAASIVIGENCIA=? AND GRAASICODGRADO=? AND GRAASICODASIGN=?

asignatura.eliminarGradoAsignatura=DELETE FROM GRADO_ASIGNATURA WHERE GRAASICODINST=? AND GRAASICODMETOD=? AND GRAASIVIGENCIA=? AND GRAASICODASIGN=? AND GRAASICODGRADO NOT IN
asignatura.eliminarGradoAsignaturaJerarquia=DELETE FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO not in
asignatura.eliminarTodoGradoAsignatura=DELETE FROM GRADO_ASIGNATURA WHERE GRAASICODINST=? AND GRAASICODMETOD=? AND GRAASIVIGENCIA=? AND GRAASICODASIGN=?
asignatura.eliminarTodoGradoAsignaturaJerarquia=DELETE FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=?
#UPDATE ESTADO GRADO ASIGNATURA (15-05-10 WG)
asignatura.updateGradoAsignatura=UPDATE GRADO_ASIGNATURA set GRAASIESTADO=? WHERE GRAASICODINST=? AND GRAASICODMETOD=? AND GRAASIVIGENCIA=? AND GRAASICODASIGN=?

asignatura.listaGradoAsignatura.ini=SELECT GRAARECODGRADO FROM GRADO_AREA WHERE GRAARECODINST=? AND GRAARECODMETOD=? AND GRAAREVIGENCIA=? AND GRAARECODAREA=? AND GRAARECODGRADO IN(
asignatura.listaGradoAsignatura.fin=)AND GRAARECODGRADO NOT IN(SELECT GRAASICODGRADO FROM GRADO_ASIGNATURA WHERE GRAASICODINST=? AND GRAASICODMETOD=? AND GRAASIVIGENCIA=? AND GRAASICODASIGN=?)

asignatura.validarEliminarGradoAsignatura.1.1=SELECT LOGCODIGO FROM LOGRO WHERE LOGCODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO NOT IN
asignatura.validarEliminarGradoAsignatura.1.2=) AND LOGVIGENCIA=?
asignatura.validarEliminarGradoAsignatura.2.1=SELECT EVAASICODESTUD FROM EVALUACION_ASIGNATURA WHERE EVAASICODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO NOT IN
asignatura.validarEliminarGradoAsignatura.2.2=) AND EVAASIVIGENCIA=?
asignatura.validarEliminarGradoAsignatura.3.1=SELECT EVALOGCODESTU FROM EVALUACION_LOGRO WHERE EVALOGCODJERAR IN(SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=? AND G_JERNIVEL=? AND G_JERINST=? AND G_JERMETOD=? AND G_JERVIGENCIA=? AND G_JERAREAASIG=? AND G_JERGRADO NOT IN
asignatura.validarEliminarGradoAsignatura.3.2=) AND EVALOGVIGENCIA=?

