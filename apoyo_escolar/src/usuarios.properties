#Generated by ResourceBundle Editor (http://eclipse-rbe.sourceforge.net)

#	VERSION		FECHA			AUTOR				DESCRIPCION
#		1.0		27/04/2018		JORGE CAMACHO		SE MODIFICÓ EL SQL DE LA LLAVE UsuarioInsertar
#		2.0		30/04/2018		JORGE CAMACHO		SE MODIFICARON EL SQL DE LAS LLAVES UsuarioAsignar, UsuarioActualizar
#		3.0		02/05/2017		JORGE CAMACHO		SE MODIFICÓ EL SQL DE LA LLAVE UsuarioCascadaClave
#		4.0		04/05/2018		JORGE CAMACHO		SE MODIFICÓ EL SQL DE LA LLAVE ContrasenaActualizar
#		5.0		28/05/2018		JORGE CAMACHO		SE AGREGÓ LA LLAVE getNombreDependencia
#

AsignarLista0 = select perfnivel, UsuCodJerar, UsuPerfCodigo, UsuLogin, UsuPerNumDocum, pernombre1 || ' ' || perapellido1 from usuario, perfil, personal where UsuPerfCodigo=PerfCodigo and  UsuPerfCodigo=? and pernumdocum like usupernumdocum
#AsignarLista0 = select perfnivel, UsuCodJerar, UsuPerfCodigo, UsuPerNumDocum from usuario, perfil, personal where UsuPerfCodigo=PerfCodigo and  UsuPerfCodigo=? and pernumdocum like usupernumdocum

#AsignarLista1 = and UsuCodJerar in ?
AsignarLista1 = and UsuCodJerar in (SELECT G_JERCODIGO FROM G_JERARQUIA WHERE G_JERTIPO=1 AND G_JERNIVEL=1 AND G_JERDEPTO=?)

#AsignarLista2 = and UsuCodJerar in (select g_jercodigo from g_jerarquia where g_jertipo='1' and g_jernivel='2' and g_jerdepto=? and g_jermunic=?)
AsignarLista2 = and UsuCodJerar in (select g_jercodigo from g_jerarquia where g_jertipo='1' and g_jernivel='3' and g_jerdepto=? and g_jermunic=?)

AsignarLista3 = and UsuCodJerar in (select g_jercodigo from g_jerarquia where g_jertipo='1' and g_jernivel='4' and g_jerdepto=? and g_jermunic=? and g_jerinst=?)

AsignarLista4 = and UsuCodJerar in (select g_jercodigo from g_jerarquia where g_jertipo='1' and g_jernivel='6' and g_jerdepto=? and g_jermunic=? and g_jerinst=? and g_jersede=? and g_jerjorn=?)

#BuscaUsuarios = select perfnivel, usucodjerar, usulogin, usupernumdocum, usuperfcodigo from usuario, perfil where UsuPerfCodigo=PerfCodigo and usupernumdocum=?
BuscaUsuarios = select perfnivel, usucodjerar, usuperfcodigo, usupernumdocum, usulogin from usuario, perfil where UsuPerfCodigo=PerfCodigo and usupernumdocum=?

getDependencias = select G_ConCodigo, G_ConNombre from g_constante where G_ConTipo=42 order by 1

getJerarquiaPOA=select g_jerCodigo from g_jerarquia where g_jertipo=4 and g_jernivel=1 and g_jerdepto=?

CargaInstituciones = select inscodigo,insnombre from institucion where InsCodMun=? order by InsNombre

CargaJornadas = select G_ConCodigo, G_ConNombre from g_constante where G_ConTipo=5 and G_ConCodigo in(select sedjorcodjor from sede_jornada where SedJorCodInst=? and SedJorCodSede=?)

CargaLocalidades = SELECT g_concodigo,g_conNombre,G_ConCodPadre FROM G_Constante WHERE G_ConTipo=7 ORDER BY G_ConOrden

CargaSedes = select sedcodigo, sednombre from sede where SedCodIns=? order by SedNombre

#ContrasenaActualizar = update usuario set usupassword=? where usupernumdocum=?
ContrasenaActualizar = UPDATE USUARIO SET USUPASSWORD=?, USUPASSWORDTEMPORAL=0 WHERE USUPERNUMDOCUM=?

DocenteSedeJornadaEliminar = delete from docente_sede_jornada where docsedjornumdocum=? and docsedjorcodinst=? and docsedjorcodsede=? and docsedjorcodjor=?

ExisteUsuario = Select UsuPerNumDocum from usuario where UsuPerNumDocum=? and UsuCodJerar=? and usupassword=?

FiltroDocumento = select PerNumDocum, concat(pernombre1,concat(' ',perapellido1)) from personal where pernumdocum=?

FiltroPerfil = select PerfCodigo, PerfNombre, PerfDescripcion, PerfAbreviatura, perfnivel from perfil where PerfCodigo>=? order by to_number(PerfCodigo)


PerfilMesaAyuda = 112
FiltroPerfilMesaAyuda = select PerfCodigo, PerfNombre, PerfDescripcion, PerfAbreviatura, perfnivel from perfil where PerfCodigo in (410,420,421,422,423,424,460,997) order by to_number(PerfCodigo)

#UsuarioActualizar = update personal set pertipdocum=?, pernumdocum=?, pernombre1=?,pernombre2=?,perapellido1=?,perapellido2=? where pertipdocum=? and pernumdocum=?
UsuarioActualizar = update personal set pertipdocum=?, pernumdocum=?, pernombre1=?, pernombre2=?, perapellido1=?, perapellido2=?, peremail=? where pertipdocum=? and pernumdocum=?

UsuarioActualizar0 = update usuario set usuperfcodigo=?, usucodjerar=? where usucodjerar=? and usupernumdocum=?

UsuarioActualizarDocumento = update usuario set usupernumdocum=? where usupernumdocum=?

#UsuarioAsignar = select pertipdocum, pernumdocum, pernombre1, pernombre2, perapellido1, perapellido2 from personal where pernumdocum=?
UsuarioAsignar = select pertipdocum, pernumdocum, pernombre1, pernombre2, perapellido1, perapellido2, peremail from personal where pernumdocum=?

UsuarioAsignar0 = select USUCODJERAR,USULOGIN,USUPASSWORD,USUPERFCODIGO,USUPERNUMDOCUM from usuario where USUCODJERAR=? and USUPERFCODIGO=? and USUPERNUMDOCUM=?

#UsuarioCascadaClave = update usuario set usupassword=? where usupernumdocum=?
UsuarioCascadaClave = update usuario set usupassword=?, usupasswordtemporal='1' where usupernumdocum=?

UsuarioEliminar = delete from usuario where usucodjerar=? and usuperfcodigo=? and USUPERNUMDOCUM=?

#UsuarioInsertar = insert into personal(percodjerar,pertipo,pertipdocum,pernumdocum,pernombre1,pernombre2,perapellido1,perapellido2) values (-1,-1,?,?,?,?,?,?)
UsuarioInsertar = insert into personal(percodjerar, pertipo, pertipdocum, pernumdocum, pernombre1, pernombre2, perapellido1, perapellido2, peremail) values (-1,-1,?,?,?,?,?,?,?)

UsuarioInsertar0 = insert into usuario(usucodjerar, usupernumdocum, usulogin, usupassword, usuperfcodigo) values (?,?,?,?,?)

UsuarioInsertarDocSedJor = insert into DOCENTE_SEDE_JORNADA(DOCSEDJORCODINST, DOCSEDJORCODSEDE, DOCSEDJORCODJOR, DOCSEDJORNUMDOCUM) values(?,?,?,?)

#nivel = SELECT G_JERDEPTO, G_JERMUNIC, G_JERLOCAL,G_JERINST, G_JERSEDE, G_JERJORN FROM G_JERARQUIA where G_JERCODIGO=? and G_JERTIPO=1 and G_JERNIVEL=?
nivel = SELECT G_JERDEPTO, G_JERMUNIC, G_JERLOCAL,G_JERINST, G_JERSEDE, G_JERJORN FROM G_JERARQUIA where G_JERCODIGO=? and (G_JERTIPO=1 or G_JERTIPO=4)

AuditoriaGestionUsuario = INSERT INTO auditoria_gestion_usuario(FECHA, USUARIO, OPERACION, OBSERVACIONES) values (?,?,?,?)

getNombreDependencia = SELECT G_ConNombre FROM g_constante WHERE G_ConTipo = 42 AND G_ConCodigo = ?

getNombreTipoDocumento = SELECT G_CONNOMBRE FROM G_CONSTANTE WHERE G_CONTIPO = 10 AND G_CONCODIGO = ?

getNombreLocalidad = SELECT G_CONNOMBRE FROM G_CONSTANTE WHERE G_CONTIPO = 7 AND G_CONCODIGO = ?

getNombreInstitucion = SELECT INSNOMBRE FROM INSTITUCION WHERE INSCODIGO = ?

getNombreSede = SELECT SEDNOMBRE FROM SEDE WHERE SEDCODINS = ? AND SEDCODIGO = ?

getNombreJornada = SELECT G_CONNOMBRE FROM G_CONSTANTE WHERE G_CONTIPO = 5 AND G_CONCODIGO = ?


